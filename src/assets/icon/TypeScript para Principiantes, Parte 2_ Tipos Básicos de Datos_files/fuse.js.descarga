!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";var t={tenantId:"DGKSPXNV53",fuse_tenant:"publift",fuse_cdn:"//cdn.fuseplatform.net/publift/tags/",fuse_breakpoints:{m:1024,s:768,xs:0},fuse_settings:{adblock:!1,lazy:!1,responsive:!0,prebid:{enabled:!1,breakpoint_options:{},defaultTimeout:1e3},headerbidding:0,confiant:!1,cmp:!1,blockthrough:!0,amazonUam:{enabled:!1},identity:{}},fuse_blocked_url:[],fuse_id:1007,fuse_slots:[{id:"21764347423",slot:"71161633/ENV_envato/mob_tutorial_1",sizes:[[320,100],[320,50]],sizeMapping:{m:[],xs:[[320,100],[320,50]],s:[]},attributes:{lazy:!1,adblock:!1,refresh:!1,headerbidding:!1},customLazy:{xl:!1,s:!1,m:!1,l:!1,xs:!1},bids:[]},{id:"21764347426",slot:"71161633/ENV_envato/article_mid_1",sizes:[[300,250],["fluid"]],sizeMapping:{xs:[],s:[[300,250],"fluid"],m:[[300,250],"fluid"]},attributes:{lazy:!1,headerbidding:!1,adblock:!1,refresh:!1},customLazy:{xl:!1,s:1,m:1,l:!1,xs:1},bids:[]},{id:"21764354922",slot:"71161633/ENV_envato/tutorial_rhs_2",sizes:[[160,600],[300,250],[300,600],[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[300,250],[320,100],[320,50],"fluid"],xl:[],s:[[160,600],"fluid"],l:[],m:[[160,600],[300,250],[300,600],"fluid"]},attributes:{adblock:!1,refresh:!1,headerbidding:!1,lazy:!1},customLazy:{xs:!1,xl:!1,s:!1,m:!1,l:!1},bids:[]},{id:"21764354925",slot:"71161633/ENV_envato/mob_tutorial_4",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xl:[],m:[],xs:[[300,250],[320,100],[320,50],"fluid"],s:[],l:[]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},customLazy:{l:!1,xl:!1,m:!1,xs:!1,s:!1},bids:[]},{id:"21764354928",slot:"71161633/ENV_envato/article_mid_2",sizes:[[300,250],["fluid"]],sizeMapping:{xs:[],s:[[300,250],"fluid"],m:[[300,250],"fluid"]},attributes:{lazy:!1,headerbidding:!1,adblock:!1,refresh:!1},customLazy:{m:1,xs:1,s:1,xl:!1,l:!1},bids:[]},{id:"21764354931",slot:"71161633/ENV_envato/mob_article_3",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xl:[],xs:[[300,250],[320,100],[320,50],"fluid"],l:[],s:[],m:[]},attributes:{refresh:!1,headerbidding:!1,lazy:!1,adblock:!1},customLazy:{l:!1,xs:!1,s:!1,m:!1,xl:!1},bids:[]},{id:"21764355504",slot:"71161633/ENV_envato/tutorial_top",sizes:[[320,100],[320,50],[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{m:[[728,90],[970,250],[970,90],"fluid"],xs:[[320,100],[320,50],"fluid"],s:[[728,90],"fluid"]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},customLazy:{xl:!1,m:!1,l:!1,xs:!1,s:!1},bids:[]},{id:"21764355507",slot:"71161633/ENV_envato/tutorial_rhs_1",sizes:[[160,600],[300,250],[300,600],[320,100],[320,50],["fluid"]],sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid"],xs:[[300,250],[320,100],[320,50]],s:[[160,600],"fluid"]},attributes:{refresh:!1,lazy:!1,adblock:!1,headerbidding:!1},customLazy:{s:!1,xs:!1,xl:!1,l:!1,m:!1},bids:[]},{id:"21764355510",slot:"71161633/ENV_envato/tutorial_bottom",sizes:[[300,250],[320,100],[320,50],[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{m:[[728,90],[970,250],[970,90],"fluid"],s:[[728,90],"fluid"],xs:[[300,250],[320,100],[320,50]]},attributes:{refresh:!1,headerbidding:!1,lazy:!1,adblock:!1},customLazy:{s:!1,xs:!1,l:!1,xl:!1,m:!1},bids:[]},{id:"21764355513",slot:"71161633/ENV_envato/mob_tutorial_2",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{xs:[[300,250],[320,100],[320,50],"fluid"],m:[],l:[],xl:[],s:[]},attributes:{lazy:!1,adblock:!1,refresh:!1,headerbidding:!1},customLazy:{s:!1,m:!1,xl:!1,xs:!1,l:!1},bids:[]},{id:"21764355516",slot:"71161633/ENV_envato/mob_tutorial_3",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{l:[],xl:[],s:[],xs:[[300,250],[320,100],[320,50],"fluid"],m:[]},attributes:{lazy:!1,headerbidding:!1,adblock:!1,refresh:!1},customLazy:{xl:!1,xs:!1,s:!1,m:!1,l:!1},bids:[]},{id:"21764355519",slot:"71161633/ENV_envato/article_top",sizes:[[320,100],[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{xs:[[320,100]],s:[[728,90],"fluid"],m:[[728,90],[970,250],[970,90],"fluid"]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},customLazy:{m:!1,l:!1,xl:!1,xs:!1,s:!1},bids:[]},{id:"21764355522",slot:"71161633/ENV_envato/article_rhs_1",sizes:[[160,600],[300,250],[300,600],["fluid"]],sizeMapping:{s:[[160,600],"fluid"],xs:[],m:[[160,600],[300,250],[300,600],"fluid"]},attributes:{lazy:!1,adblock:!1,refresh:!1,headerbidding:!1},customLazy:{xs:1,xl:!1,s:1,l:!1,m:1},bids:[]},{id:"21764355525",slot:"71161633/ENV_envato/article_rhs_2",sizes:[[160,600],[300,250],[300,600],["fluid"]],sizeMapping:{xl:[],xs:[],s:[[160,600],"fluid"],m:[[160,600],[300,250],[300,600],"fluid"],l:[]},attributes:{adblock:!1,refresh:20,headerbidding:!1,lazy:!1},customLazy:{s:!1,xl:!1,m:!1,xs:!1,l:!1},bids:[]},{id:"21764355528",slot:"71161633/ENV_envato/article_rhs_3",sizes:[[160,600],[300,250],[300,600],["fluid"]],sizeMapping:{m:[[160,600],[300,250],[300,600],"fluid"],s:[[160,600],"fluid"],xs:[]},attributes:{refresh:!1,lazy:!1,adblock:!1,headerbidding:!1},customLazy:{m:!1,xl:!1,l:!1,xs:!1,s:!1},bids:[]},{id:"21764355531",slot:"71161633/ENV_envato/article_bottom",sizes:[[728,90],[970,250],[970,90],["fluid"]],sizeMapping:{xs:[],s:[[728,90],"fluid"],m:[[728,90],[970,250],[970,90],"fluid"]},attributes:{adblock:!1,headerbidding:!1,lazy:!1,refresh:!1},customLazy:{xl:!1,l:!1,m:!1,xs:!1,s:!1},bids:[]},{id:"21764355534",slot:"71161633/ENV_envato/mob_article_1",sizes:[[320,100],[320,50],["fluid"]],sizeMapping:{xl:[],l:[],s:[],xs:[[320,100],[320,50],"fluid"],m:[]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},customLazy:{s:!1,m:!1,l:!1,xs:!1,xl:!1},bids:[]},{id:"21764355537",slot:"71161633/ENV_envato/mob_article_2",sizes:[[300,250],[320,100],[320,50],["fluid"]],sizeMapping:{l:[],xl:[],m:[],xs:[[300,250],[320,100],[320,50],"fluid"],s:[]},attributes:{refresh:!1,adblock:!1,lazy:!1,headerbidding:!1},customLazy:{s:!1,xl:!1,xs:!1,l:!1,m:!1},bids:[]},{id:"21764355540",slot:"71161633/ENV_envato/mob_article_4",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{headerbidding:!1,refresh:!1,lazy:!1,adblock:!1},customLazy:{l:!1,xl:!1,xs:!1,s:!1,m:!1},bids:[]},{id:"21883893312",slot:"71161633/ENV_envato/mobile_sticky_footer",sizes:[[320,50]],sizeMapping:{s:[],xs:[[320,50]],m:[]},attributes:{refresh:!1,lazy:!1,adblock:!1,headerbidding:!1},customLazy:{xs:!1,xl:!1,s:!1,l:!1,m:!1},bids:[]},{id:"21884282942",slot:"71161633/ENV_envato/article_mid_3",sizes:[[300,250],[728,90],["fluid"]],sizeMapping:{xs:[],m:[[300,250],"fluid",[728,90]],s:[[300,250],"fluid",[728,90]]},attributes:{lazy:!1,refresh:!1,headerbidding:!1,adblock:!1},customLazy:{xs:!1,l:!1,m:!1,xl:!1,s:!1},bids:[]},{id:"21884282945",slot:"71161633/ENV_envato/article_mid_4",sizes:[[300,250],[728,90]],sizeMapping:{s:[[300,250],[728,90]],xs:[],m:[[300,250],[728,90]]},attributes:{lazy:!1,headerbidding:!1,adblock:!1,refresh:!1},customLazy:{s:!1,l:!1,xs:!1,xl:!1,m:!1},bids:[]},{id:"22018374233",slot:"71161633/ENV_envato/mob_article_top",sizes:[[300,250],[320,100],[320,50]],sizeMapping:{xs:[[300,250],[320,100],[320,50]],m:[],s:[]},attributes:{adblock:!1,refresh:!1,lazy:!1,headerbidding:!1},bids:[]}],supported_sizes:{m:[[300,250],"fluid",[160,600],[300,600],[728,90],[970,250],[970,90]],s:[[300,250],"fluid",[160,600],[728,90]],xs:[[320,100],[320,50],[300,250],"fluid"],xl:[],l:[]},fuse_industry:["IAB19"]};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function r(o){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach(function(e){var t,n,i;t=o,i=r[n=e],n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})}return o}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u=void 0;Array.prototype.forEach||(Array.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<u.length;n++)e.call(t,u[n],n,u)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;for(var o,r,s=0|t,a=Math.max(0<=s?s:i-Math.abs(s),0);a<i;){if((o=n[a])===(r=e)||"number"==typeof o&&"number"==typeof r&&isNaN(o)&&isNaN(r))return!0;a++}return!1}}),"undefined"!=typeof window&&window.NodeList&&!window.NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function d(e,t){var n,i;e.hasOwnProperty("url")&&((n=U.document.createElement("script")).async=!0,n.type="text/javascript","function"==typeof t&&(n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()}),n.src="https:".concat(e.url).concat(e.file),(i=U.document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i))}function g(t,n,i){function o(){var e=Date.now()-l;e<n&&0<=e?r=setTimeout(o,n-e):(r=null,i||(c=t.apply(a,s),r||(a=s=null)))}var r,s,a,l,c;return function(){a=this,s=arguments,l=Date.now();var e=i&&!r;return r=r||setTimeout(o,n),e&&(c=t.apply(a,s),a=s=null),c}}function e(e){F.addEventListener("resize",g(e||function(){V.log("resized",F.innerWidth,F.innerHeight)},500))}function f(e){var n,i=W.fuse_breakpoints,o=e||F.innerWidth;return Object.keys(i).forEach(function(e){var t=i[e];t<o&&(!n||o<n)&&(n={size:t,name:e})}),n}function p(){return q.performance.timing.navigationStart}function b(){return H}function S(e){return!0===e?0:e}function h(e,t){var n=t.name;return e.hasOwnProperty("customLazy")&&e.customLazy.hasOwnProperty(n)&&!1!==e.customLazy[n]?e.customLazy[n]:e.attributes.lazy}function m(e,t,n){if(!e)return!1;var i,o,r,s,a,l,c,u,d,g,f,p,b=e.getBoundingClientRect(),h=q.document.hidden,m=q.innerWidth||q.document.documentElement.clientWidth,y=q.innerHeight||q.document.documentElement.clientHeight,v=S(n),w=(o=m,r=y,s=v,a=t?t/100:1,l=(i=b).top,c=i.bottom,u=i.left,d=i.right,g=i.width,f=i.height*a,p=g*a,0<=l+f+s&&0<=u+p&&c-f<=r&&d-p<=o);return!h&&w}function y(e){if(!e)return G.error("missing parameter fuseSlot");e.matched=e.matched||0,e.matched+=1}function v(t){if(!t)return G.error("missing parameter fuseSlotID");if("string"!=typeof t)return G.error("fuseSlotId should be of type string");var n=RegExp("".concat(t.toLowerCase(),"$"));return l(H.filter(function(e){return e.id===t||n.test(e.slot.toLowerCase())}),1)[0]||!1}function w(e){return e.filter(function(e){return Array.isArray(e)?"fluid"!==e[0]:"fluid"!==e})}function k(){var e=pe.top.location.host;return e.substring(e.length-40,e.length)}function A(){var e=pe.top.location.pathname;return e.substring(e.length-40,e.length)}function _(){var e=pe.top.location.search;return e.substring(e.length-40,e.length)}function P(){for(var e=[],t=pe.top.location.pathname.split("/"),n=0;n<t.length;n+=1)t[n].length&&-1===t[n].indexOf(".")&&e.push(t[n]);return e}function N(e){if(T&&T.cmd)return T.cmd.push(e);fe.log("googletag or googletag.cmd not exists")}function C(t){if(T&&t){var e=T.pubads().getSlots();return Array.isArray(t)?e.filter(function(e){return 0<=t.indexOf(e.getSlotElementId())}):e.filter(function(e){return e.getSlotElementId()===t})}}function I(e,t){N(function(){T.pubads().setTargeting(e,t)})}function z(){var t,n,i;I("fuse_profanity",(t=pe.top.location.host,n=pe.top.location.pathname,i="false",W.fuse_blocked_url&&W.fuse_blocked_url.forEach(function(e){-1<e.indexOf(t+n)&&(i="true")}),i)),I("fuse_site",k()),I("fuse_path",A()),I("fuse_query",_()),I("fuse_category",P()),I("fuse_industry",W.fuse_industry);var e="false";375<=pe.screen.width&&(e="true"),I("inskin_yes",e)}var E,T,O="2.14.1",M="2",D=function(){function t(e){o(this,t),this.console=e.console,this.logName=e.logName,this.isInDebugMode=e.isInDebugMode}return n(t,[{key:"callLogMethod",value:function(e){if(this.isInDebugMode){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n[0]="[".concat(this.logName,"]-").concat(n[0]),this.console[e].apply(null,n)}}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("error",t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("warn",t)}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.callLogMethod("log",t)}}]),t}(),L=new(function(){function e(){o(this,e)}return n(e,[{key:"getPackageVersion",value:function(){return O}},{key:"getPackageMajorVersion",value:function(){return M}},{key:"getEnvironmentType",value:function(){return"undefined"!=typeof module&&module.exports?"node":"browser"}},{key:"isNodeEnvironment",value:function(){return"node"===this.getEnvironmentType()}},{key:"getBrowserWindowObject",value:function(){return window}},{key:"getPrebidGlobal",value:function(){return this.getBrowserWindowObject().fusePbjs||(this.getBrowserWindowObject().fusePbjs={que:[]}),this.getBrowserWindowObject().fusePbjs}},{key:"getQueryParam",value:function(t){return l(this.getBrowserWindowObject().top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[]}},{key:"isInDebugMode",value:function(){return this.isNodeEnvironment()||"true"===this.getQueryParam("fuse_debug")[1]}},{key:"getMainLogPrefix",value:function(){return"FUSE"}},{key:"getAdSlotQuerySelectorElement",value:function(){return"div"}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return"fuse-slot-"}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return"fuse-slot"}},{key:"getLogger",value:function(){if(this.logger)return this.logger;var e=this.isInDebugMode();return this.logger=new D({isInDebugMode:e,console:this.getBrowserWindowObject().console,logName:this.getMainLogPrefix()}),this.logger}}]),e}()),x=function(){function e(){o(this,e)}return n(e,[{key:"code",value:function(){return"1---"}}]),e}(),j=new(function(){function e(){o(this,e)}return n(e,[{key:"getCcpaPrivacyStringCoder",value:function(){return new x}},{key:"getUamPubID",value:function(){return t.fuse_settings.amazonUam&&t.fuse_settings.amazonUam.enabled?t.fuse_settings.amazonUam.pubID:""}},{key:"getUamAdServer",value:function(){return"googletag"}}]),e}()),W=t,B={gpt:{name:"Google Publisher Tag",url:"//securepubads.g.doubleclick.net/tag/js/",file:"gpt.js"},prebid:{name:"Prebid.org",url:W.fuse_cdn||"//cdn.publift.com/fuse/tag/",file:"prebid.js"},adblock:{name:"Criteo AdBlock",url:"//static.criteo.net/js/ld/",file:"publishertag.js"},confiant:{name:"Confiant",url:"//clarium.global.ssl.fastly.net/gpt/a/",file:"wrap.js?v2_1"},blockthrough:{name:"Blockthrough",url:"//publift-com.videoplayerhub.com/",file:"galleryplayer.js"}},U=L.getBrowserWindowObject(),V=L.getLogger(),F=L.getBrowserWindowObject(),R={watchForBreakpoints:function(t){var n=F.innerWidth,i=f(n).size;e(function(){n=F.innerWidth;var e=f(n).size;return e!==i?(i=e,V.log("Window resized to %spx which crossed a breakpoint: New breakpoint is %spx",n,e),t(!0)):t(!1)})},setResizeListener:e,getCurrentBreakpoint:f},G=L.getLogger(),J=L.getAdSlotQuerySelectorElement(),Q=L.getTargetAdSlotNodeMainClassName(),q=L.getBrowserWindowObject(),H=JSON.parse(JSON.stringify(W.fuse_slots)),Y=function(e,t){var n;return G.log("[SLOTS]: Building the fuse slot for ".concat(e.code," "),new Date-p()),t.setAttribute("data-fuse-code","".concat(e.code)),t.setAttribute("data-fuse-slot","".concat(e.slot)),q.document.getElementById(e.code)||((n=q.document.createElement("div")).setAttribute("id","".concat(e.code)),n.className=Q,t.appendChild(n)),t},X=m,K=function(e,t,n){return!!t.attributes.hasOwnProperty("lazy")&&(!1!==t.attributes.lazy&&!m(e,50,h(t,n)))},Z=function(){for(var e=q.document.querySelectorAll("div.fuse-custom-skin"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},$=w,ee=function(t){var e=R.getCurrentBreakpoint().name,n=l(b().filter(function(e){return e.id===t})||[],1)[0];return n?n.sizeMapping&&n.sizeMapping[e]?w(n.sizeMapping[e]):(G.warn('Fuse slot "'.concat(t,'" does not have sizemaps configured, sizeless prebid units may act strangely.')),w(n.sizes||[])):[]},te=p,ne=function(){return q.fusetag.que||[]},ie=function(e){var t=q.document.querySelectorAll("".concat(J,'[data-fuse-code="').concat(e,'"]'));return 1<t.length&&G.warn("There should be only one div with the data-fuse-code of ".concat(e)),t[0]},oe=function(e){var t=q.document.querySelectorAll("".concat(J,'[data-fuse="').concat(e,'"]'));return t[t.length-1]},re=function(e){if(e.prebid&&e.prebid.enabled&&e.prebid.breakpoint_options){var t=R.getCurrentBreakpoint().name,n=e.prebid.breakpoint_options[t];if(n)return n}return{enabled:0<e.headerbidding,timeout:e.headerbidding}},se=v,ae=function(){return E},le=function(){return Array.prototype.slice.call(q.document.querySelectorAll("".concat(J,"[data-fuse]")))},ce=h,ue=function(e){if(!e)return G.error("missing parameter fuseSlotNode");var t,n,i=e.getAttribute("data-fuse"),o=v(i);return o||G.warn("[SLOTS]: There is no FuseSlot set up in the account matching the id ".concat(i)),o&&(y(o),t=e.getAttribute("data-targeting-key"),n=e.getAttribute("data-targeting-value"),t&&t.length&&n&&n.length&&(o.targeting||(o.targeting={}),o.targeting[t]=n)),o},de=function(e){return E=e},ge=B.gpt,fe=L.getLogger(),pe=L.getBrowserWindowObject(),be=z,he=function(){pe.googletag&&pe.googletag._loadStarted_?fe.log("[LOAD]: 3. GPT v".concat(T.getVersion()," is already on the page, skip loading another copy")):d(ge,function(){fe.log("[LOAD]: 3. GPT ".concat(pe.googletag&&pe.googletag._loadStarted_?"v".concat(T.getVersion()," is loaded and ready"):"not loaded")),fe.log("[TIME]: time in ms it took GPT to load",new Date-te())})},me=function(e){var t,n,i,o,r,s,a=T.defineSlot(e.slot,e.sizes,e.code),l=Math.ceil(100*Math.random());return a&&(o=a,(r=e).sizeMapping&&0!==Object.keys(r.sizeMapping).length&&(s=T.sizeMapping(),Object.keys(r.sizeMapping).forEach(function(e){var t=W.fuse_breakpoints[e],n=r.sizeMapping[e];void 0!==t&&(fe.log("[EVENT] Setting breakpoint for slot ".concat(r.slot," for size ").concat(e," with breakpoint ").concat(t," and mapping ").concat(n)),s.addSize([t,0],n))}),o.defineSizeMapping(s.build())),n=a=o,(i=e).targeting&&Object.keys(i.targeting).length&&Object.keys(i.targeting).forEach(function(e){n.setTargeting(e,i.targeting[e])}),a=n,t=10<l?"optimized":l%10==0?"benchmark":"exploration".concat(l%10),!1!==W.fuse_settings.adomik&&a.setTargeting("publift_mv_testing",t),a.addService(T.pubads())),a},ye=function(){return T=pe.googletag||(pe.googletag={cmd:[]})},ve=I,we=N,Se=function(e){if(T){var t=!e&&0<T.pubads().getSlots().length?T.pubads().getSlots()[T.pubads().getSlots().length-1].getSlotElementId():e?e.code:null;return fe.log("[BIDS]: Initialising DFP call at",new Date-(ae()||te())),T.display(t)}},ke=function(e){var t=e?C(e):null;return fe.log("[BIDS]: Making DFP call for ".concat(e&&e.length?JSON.stringify(e):"all units")),T.pubads().refresh(t)},Ae=function(){T.pubads().disableInitialLoad(),T.pubads().collapseEmptyDivs(!0),T.pubads().setCentering(!0),T.pubads().enableSingleRequest(),z()},_e=function(t){T.pubads().addEventListener("slotRenderEnded",function(e){fe.log("[BIDS]: Adserver responded ".concat(e.isEmpty?"without":"with"," creative for ").concat(e.slot.getSlotElementId())),fe.log("[TIME]: time in ms it took for adserver to respond",new Date-(ae()||te())),t({hasCreative:!e.isEmpty,slotId:e.slot.getSlotElementId()})})},Pe=function(){T.pubads().addEventListener("impressionViewable",function(e){fe.log("[EVENT]: AD_IMPRESSION_VIEW for ".concat(e.slot.getSlotElementId()),new Date-(ae()||te()))})},Ne=function(){pe.googletag.enableServices()},Ce=function(){pe.googletag.pubads().disableInitialLoad(),pe.googletag.pubads().setRequestNonPersonalizedAds(1)},Ie=function(){function t(e){o(this,t),this.slots={},this.logger=e.logger,this.getMatchedFuseSlot=e.getMatchedFuseSlot,this.destroySlotsFunc=e.destroySlotsFunc}return n(t,[{key:"add",value:function(e,t){e&&"string"==typeof e||this.logger.error("invalid key."),t||this.logger.error("invalid slot object passed.");var n=e.toLowerCase();Array.isArray(this.slots[n])||(this.slots[n]=[]),this.slots[n].push(t)}},{key:"purgeAll",value:function(){Object.keys(this.slots).forEach(this.purge.bind(this))}},{key:"purge",value:function(e){var t,n,i;e&&"string"==typeof e&&(t=e.toLowerCase(),(n=this.getMatchedFuseSlot(t))&&(n.targeting={}),i=this.slots[t],Array.isArray(i)&&(this.destroySlotsFunc(i),this.slots[t]=[]))}},{key:"getSlots",value:function(e){if(e&&"string"==typeof e&&Array.isArray(this.slots[e.toLowerCase()]))return this.slots[e.toLowerCase()]}},{key:"setSlotTargetingById",value:function(t,n,i){var e,o,r=this;t&&"string"==typeof t&&((e=this.getMatchedFuseSlot(t))&&(e.targeting||(e.targeting={}),e.targeting[n]=i),(o=r.slots[t.toLowerCase()])&&Array.isArray(o)&&o.length&&o.forEach(function(e){try{e.setTargeting(n,i)}catch(e){r.logger.error("error occurred while individually setTargeting for key - ".concat(t,"."),e.message,e.stack)}}))}}]),t}(),ze=function(){function t(e){o(this,t),this.logger=e.logger,this.targetAdSlotNodeIdPrefix=e.targetAdSlotNodeIdPrefix,this.packageVersion=e.packageVersion,this.browserWindow=e.browserWindow,this.adSlotRegistry=e.adSlotRegistry,this.isInDebugMode=e.isInDebugMode}return n(t,[{key:"getActiveModules",value:function(){return["no-module"]}}]),t}(),Ee=function(){function t(e){o(this,t),this.pubID=e.pubID,this.adServer=e.adServer,this.logger=e.logger,this.browserWindow=e.browserWindow,this.gdpr={},this.params={}}return n(t,[{key:"loadAmazonUam",value:function(n,i,e,t,o,r,s){function a(e,t){i[n]._Q.push([e,t])}i[n]||(i[n]={init:function(){a("i",arguments)},fetchBids:function(){a("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=e.createElement(t)).async=!0,r.src=o,(s=e.getElementsByTagName(t)[0]).parentNode.insertBefore(r,s))}},{key:"applyCCPA",value:function(e){this.params={us_privacy:e},this.logger.log("[CONSENT]: CCPA config passed onto UAM")}},{key:"applyGDPR",value:function(){this.gdpr={cmpTimeout:1e4},this.logger.log("[CONSENT]: GDPR config passed onto UAM")}},{key:"getUamConfig",value:function(){var e={pubID:this.pubID,adServer:this.adServer};return Object.getOwnPropertyNames(this.gdpr).length&&(e.gdpr=this.gdpr),Object.getOwnPropertyNames(this.params).length&&(e.params=this.params),e}},{key:"load",value:function(){if(this.loadAmazonUam("apstag",this.browserWindow,this.browserWindow.document,"script","//c.amazon-adsystem.com/aax2/apstag.js"),!this.browserWindow.apstag)return this.logger.error("[LOAD]: 0. UAM script loading failed.")}},{key:"init",value:function(e){this.browserWindow.apstag.init(this.getUamConfig()),this.logger.log("[LOAD]: 0. UAM script loaded"),this.logger.log("[TIME]: time in ms it took UAM script to load",new Date-e)}},{key:"makeBids",value:function(e,t){var n=this;this.browserWindow.apstag.fetchBids({slots:e},function(e){n.browserWindow.googletag.cmd.push(function(){n.browserWindow.apstag.setDisplayBids(),t(e)})})}}]),t}(),Te=function(){function i(e){o(this,i),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt,this.uspTries=0,this.uspTriesLimit=3,this.createUspStub()}return n(i,[{key:"checkForCCPA",value:function(n){var i=this;this.browserWindow.__uspapi("uspPing",1,function(e,t){t&&e.mode.includes("USP")&&e.jurisdiction.includes(e.location.toUpperCase())?(i.logger.log("[CONSENT]: CCPA Region"),i.browserWindow.__uspapi("setUspDftData",1,function(e,t){i.logger.log("[CONSENT]: Setting up data for USP API",JSON.stringify(e),t),i.browserWindow.__uspapi("getUSPData",1,function(e,t){return t?void n({applies:!0,privacyString:e.uspString}):(i.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),n({applies:!0,privacyString:"1---"}))})})):n({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__tcfapi("displayConsentUi",2,function(){return e.logger.log("[CONSENT]: GDPR Consent UI displayed")})})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__uspapi("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),this.browserWindow.__tcfapi("ping",2,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(n){this.browserWindow.__tcfapi("getTCData",2,function(e,t){return t&&e?e.gdprApplies?i.CONSENT_RECEIVED_STATES.includes(e.eventStatus.toLowerCase())?n({consentReceived:!0,personalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],googlePersonalisedAdsConsent:e.purpose.consents[2]&&e.purpose.consents[3],gdprApplies:e.gdprApplies}):n({consentReceived:!1,gdprApplies:e.gdprApplies}):n({consentReceived:!0,gdprApplies:!1}):n({consentReceived:!1})})}},{key:"createUspStub",value:function(){function t(){var e=arguments;s(o.__uspapi)!==t&&setTimeout(function(){void 0!==o.__uspapi&&o.__uspapi.apply(o.__uspapi,e)},400)}var e,n=this,i=this.logger,o=this.browserWindow;void 0===o.__uspapi&&(o.__uspapi=t,e=setInterval(function(){n.uspTries++,o.__uspapi===t&&n.uspTries<n.uspTriesLimit?i.warn("USP is not accessible"):clearInterval(e)},4e3))}}]),i}();Te.CONSENT_RECEIVED_STATES=["useractioncomplete","tcloaded"];function Oe(e){var t=e/.835;return Ve.log("[BIDS]: Adjusting IX bid from Net to Gross from ".concat(e," to ").concat(t)),t}function Me(){var e={};return He(e),Ye(e),Qe(e,W),Xe(e,W),qe(e),Ke(e),e}var De=function(){function t(e){o(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow,this.consentUIPrompt=e.consentUIPrompt}return n(t,[{key:"checkForCCPA",value:function(n){var i=this;this.browserWindow.__cmp("uspPing",null,function(e,t){t&&e&&e.location&&"ca"===e.location.toLowerCase()?(i.logger.log("[CONSENT]: CCPA Region"),i.browserWindow.__cmp("getUSPData",1,function(e,t){return t?void n({applies:!0,privacyString:e.uspString}):(i.logger.log("[CONSENT]: Failed retrieving USP data use default instead"),n({applies:!0,privacyString:"1---"}))})):n({applies:!1})})}},{key:"setGDPRConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Privacy Settings",function(){e.browserWindow.__cmp("displayConsentUi")})}},{key:"setCCPAConsentPrompt",value:function(){var e=this;this.consentUIPrompt.setup("Do Not Sell My Data",function(){e.browserWindow.__cmp("displayUspUi")})}},{key:"cmpLoaded",value:function(t){var n=!1;setTimeout(function(){if(!n)return t(!1)},1e3),this.browserWindow.__cmp("ping",2,function(e){return n=!0,e&&e.cmpLoaded?t(!0):t(!1)})}},{key:"getConsentData",value:function(n){var i=this;this.browserWindow.__cmp("getVendorConsents",null,function(t,e){e&&t?i.browserWindow.__cmp("getGooglePersonalization",function(e){n({consentReceived:!0,personalisedAdsConsent:t.purposeConsents&&t.purposeConsents[2]&&t.purposeConsents[3],googlePersonalisedAdsConsent:e&&e.googlePersonalizationData&&1===e.googlePersonalizationData.consentValue,gdprApplies:t.gdprApplies})}):n({consentReceived:!1,gdprApplies:t&&t.gdprApplies})})}}]),t}(),Le=function(){function t(e){o(this,t),this.options=e}return n(t,[{key:"getVersion",value:function(e){var t;switch(e){case 1:t=new De(this.options);break;case 2:t=new Te(this.options);break;default:t=new De(this.options)}return t}}]),t}(),xe=function(){function t(e){o(this,t),this.browserWindow=e.browserWindow,this.versionLoader=e.versionLoader,this.logger=e.logger,this.versionNumber=1,this.version=null,this.gdprApplies=!1,this.ccpaApplies=!1,this.ccpaPrivacyString=null,this.stubFunctionsGenerator=e.stubFunctionsGenerator,this.scriptLoader=e.scriptLoader,this.consentUIPrompt=e.consentUIPrompt}return n(t,[{key:"init",value:function(){this.scriptLoader.load(),this.stubFunctionsGenerator.generate(),this.loadVersion()}},{key:"loadVersion",value:function(){this.checkForVersion1(),this.checkForVersion2()}},{key:"versionHandler",value:function(e){var t=this,n=e.found,i=e.versionNumber;null===this.version&&(n?this.setVersion(i):setTimeout(function(){t.loadVersion()},500))}},{key:"checkForVersion1",value:function(){var n=this;this.browserWindow.__cmp("ping",null,function(e,t){n.versionHandler({found:t,versionNumber:1})})}},{key:"checkForVersion2",value:function(){var t=this;this.browserWindow.__tcfapi("ping",null,function(e){t.versionHandler({found:e.cmpLoaded,versionNumber:2})})}},{key:"setVersion",value:function(e){this.versionNumber=e,this.version=this.versionLoader.getVersion(e)}},{key:"checkForCCPA",value:function(e){this.version.checkForCCPA(e)}},{key:"cmpLoaded",value:function(e){if(this.logger.log("[CONSENT]: Check if CMP has been loaded"),null===this.version)return e(!1);this.version.cmpLoaded(e)}},{key:"getConsentData",value:function(e){this.version.getConsentData(e)}},{key:"setGDPR",value:function(e){this.gdprApplies=e}},{key:"setCCPA",value:function(e){this.ccpaApplies=e}},{key:"setPrivacyString",value:function(e){this.ccpaPrivacyString=e}},{key:"setGDPRConsentPrompt",value:function(){this.version.setGDPRConsentPrompt()}},{key:"setCCPAConsentPrompt",value:function(){this.version.setCCPAConsentPrompt()}},{key:"setNonPrivacyRegionsPrompt",value:function(){this.consentUIPrompt.setup("You are outside the CCPA jurisdiction.")}}]),t}(),je=function(){function i(e,t,n){o(this,i),this.browserWindow=e,this.domSelector=t||"div[data-fuse-privacy-tool]",this.elementId=n||"fuse-privacy-tool"}return n(i,[{key:"setup",value:function(e,t){var n,i=this.browserWindow.document.querySelector(this.domSelector);i&&(t?((n=document.createElement("a")).href="javascript:void(0)",n.id=this.elementId,n.innerHTML=e,n.addEventListener("click",t),i.appendChild(n)):i.textContent=e)}}]),i}(),We=function(){function t(e){o(this,t),this.logger=e.logger,this.browserWindow=e.browserWindow}return n(t,[{key:"generate",value:function(){this.createStubFunctionV1(),this.createStubFunctionV2()}},{key:"createStubFunctionV1",value:function(){var t;void 0===this.browserWindow.__cmp&&(t=this.browserWindow,this.browserWindow.__cmp=function(){var e=arguments;"object"!==s(t.__cmp.a)&&setTimeout(function(){t.__cmp.apply(t.__cmp,e)},400)})}},{key:"createStubFunctionV2",value:function(){function e(){for(var e,o="__tcfapiLocator",i=[],r=t.browserWindow;r;){try{if(r.frames[o]){e=r;break}}catch(e){"{}"!==JSON.stringify(e)&&t.logger.error("[CONSENT]:",JSON.stringify(e))}if(r===t.browserWindow.top)break;r=r.parent}e||(t.logger.log(" !cmpFrame "),function e(){var t,n=r.document,i=!!r.frames[o];return i||(n.body?((t=n.createElement("iframe")).style.cssText="display:none",t.name=o,n.body.appendChild(t)):setTimeout(e,5)),!i}(),r.__tcfapi=function(){var e,t,n=arguments;if(!n.length)return i;"setGdprApplies"===n[0]?3<n.length&&2===n[2]&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?(t={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"},"function"==typeof n[2]&&n[2](t)):i.push(n)},r.addEventListener("message",function(i){var o="string"==typeof i.data,e={};try{e=o?JSON.parse(i.data):i.data}catch(e){"{}"!==JSON.stringify(e)&&t.logger.error("[CONSENT]:",JSON.stringify(e))}var r=e.__tcfapiCall;r&&t.browserWindow.__tcfapi(r.command,r.version,function(e,t){var n={__tcfapiReturn:{returnValue:e,success:t,callId:r.callId}};o&&(n=JSON.stringify(n)),i.source.postMessage(n,"*")},r.parameter)},!1))}var t=this;"undefined"!=typeof module?module.exports=e:e()}}]),t}(),Be=function(){function t(e){o(this,t),this.browserWindow=e.browserWindow}return n(t,[{key:"load",value:function(){var e=new XMLHttpRequest,t=this.browserWindow.document.location.hostname,n=this.browserWindow.document.createElement("script"),i=this.browserWindow.document.getElementsByTagName("script")[0],o=(new Date).getTime(),r="https://quantcast.mgr.consensu.org".concat("/choice/","PRrmquD1Ggcb1","/",t,"/choice.js").concat("?timestamp=",o);e.onreadystatechange=function(){var e;4===this.readyState&&(n.async=!0,n.type="text/javascript",200===this.status?n.src=r:(e="https://quantcast.mgr.consensu.org".concat("/choice.js"),n.src=e,r=e),i.parentNode.insertBefore(n,i))},e.open("GET",r,!0),e.send()}}]),t}(),Ue=new(function(){function e(){o(this,e)}return n(e,[{key:"getPackageVersion",value:function(){return L.getPackageVersion()}},{key:"getPackageMajorVersion",value:function(){return L.getPackageMajorVersion()}},{key:"isInDebugMode",value:function(){return L.isInDebugMode()}},{key:"getAdSlotQuerySelectorElement",value:function(){return L.getAdSlotQuerySelectorElement()}},{key:"getTargetAdSlotNodeIdPrefix",value:function(){return L.getTargetAdSlotNodeIdPrefix()}},{key:"getBrowserWindowObject",value:function(){return L.getBrowserWindowObject()}},{key:"getTargetAdSlotNodeMainClassName",value:function(){return L.getTargetAdSlotNodeMainClassName()}},{key:"getPrebidGlobal",value:function(){return L.getPrebidGlobal()}},{key:"getLogger",value:function(){return L.getLogger()}},{key:"getGptSlotRegistry",value:function(){var t=this;return new Ie({logger:this.getLogger(),getMatchedFuseSlot:function(e){return se(e)},pushToGoogleTagQueueFunc:function(e){return e},destroySlotsFunc:function(e){return we(function(){t.getBrowserWindowObject().googletag.destroySlots(e)})}})}},{key:"getFuseTag",value:function(){return new ze({logger:this.getLogger(),targetAdSlotNodeIdPrefix:this.getTargetAdSlotNodeIdPrefix(),packageVersion:this.getPackageVersion(),browserWindow:this.getBrowserWindowObject(),adSlotRegistry:this.getGptSlotRegistry(),isInDebugMode:this.isInDebugMode()})}},{key:"getUamPubID",value:function(){return j.getUamPubID()}},{key:"getUamAdServer",value:function(){return j.getUamAdServer()}},{key:"getAmazonUam",value:function(){return new Ee({pubID:this.getUamPubID(),adServer:this.getUamAdServer(),logger:this.getLogger(),browserWindow:this.getBrowserWindowObject()})}},{key:"getCmpVersionLoader",value:function(){return new Le({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject(),consentUIPrompt:new je(this.getBrowserWindowObject())})}},{key:"getStubFunctionsGenerator",value:function(){return new We({logger:this.getLogger(),browserWindow:this.getBrowserWindowObject()})}},{key:"getCmpScriptLoader",value:function(){return new Be({browserWindow:this.getBrowserWindowObject()})}},{key:"getConsentManger",value:function(){return new xe({browserWindow:this.getBrowserWindowObject(),logger:this.getLogger(),versionLoader:this.getCmpVersionLoader(),stubFunctionsGenerator:this.getStubFunctionsGenerator(),scriptLoader:this.getCmpScriptLoader(),consentUIPrompt:new je(this.getBrowserWindowObject())})}}]),e}()),Ve=Ue.getLogger(),Fe=Ue.getPackageMajorVersion(),Re=Ue.getBrowserWindowObject(),Ge=Ue.getPrebidGlobal(),Je=B.prebid,Qe=function(e,t){var n=1<arguments.length&&void 0!==t?t:{};"function"!=typeof Re.__tcfapi&&"function"!=typeof Re.__cmp&&!n.cmp||(e.consentManagement={cmpApi:"iab",timeout:1e4,allowAuctionWithoutConsent:!1},Ve.log("[CONSENT]: prebid consent management module in place"))},qe=function(e){e.userSync={filterSettings:{iframe:{bidders:"*",filter:"include"}}}},He=function(e){e.priceGranularity={buckets:[{max:3,increment:.01,precision:2},{max:10,increment:.1,precision:2},{max:50,increment:1,precision:2},{max:100,increment:10,precision:2}]}},Ye=function(e){e.enableSendAllBids=!1},Xe=function(t,n){var i;n&&n.fuse_settings&&n.fuse_settings.responsive&&(i=null,t.sizeConfig=[],Object.keys(n.fuse_breakpoints).forEach(function(e){t.sizeConfig.push({mediaQuery:"(min-width:".concat(n.fuse_breakpoints[e],"px)").concat(i?" and (max-width: ".concat(i-1,"px)"):""),sizesSupported:n.supported_sizes[e],labels:[e]}),i=n.fuse_breakpoints[e]}))},Ke=function(e){e.bidderSettings={ix:{bidCpmAdjustment:Oe}}},Ze={loadPrebidLibrary:function(){if(!Ge||!Ge.libLoaded){var t,e=r({},Je);return"true"===(t="local_prebid",(l(U.top.location.search.split(/[?&]/).filter(function(e){return""!==e}).map(function(e){return e.split("=")}).filter(function(e){return e[0]===t}),1)[0]||[])[1])?(Ve.warn("[LOAD]: local version of prebid in use"),e.url="./"):e.url+="".concat(Fe,"/").concat(W.fuse_id,"/"),d(e,function(){Ve.log("[LOAD]: 3. Prebid ".concat(Ge&&Ge.libLoaded?"".concat(Ge.version," is loaded and ready"):"not loaded")),Ve.log("[TIME]: time in ms it took Prebid to load",new Date-te()),Re.pbjs&&Re.pbjs.libLoaded?Re.pbjs.renderAd||(Re.pbjs.renderAd=Ge.renderAd):Re.pbjs=Ge})}Ve.log("[LOAD]: 3. Prebid ".concat(Ge.version," is already loaded skip loading it again"))},pushToPrebidQue:function(e){Ge&&Ge.que&&Ge.que.push(e)},setPrebidAdUnits:function(e){var t=ee(e.id);Ve.log("[BIDS]: Setting Prebid ad units for ".concat(e.code," with sizes ").concat(JSON.stringify(t))),Ge.addAdUnits({code:e.code,mediaTypes:{banner:{sizes:t}},bids:e.bids})},getPrebidDefaultConfig:Me,setPrebidConfig:function(e){var t;return e=e||Me(),Ve.log("[BIDS]: Setting Prebid Config"),Ge.setConfig(e),(t=W).prebid_analytics&&t.prebid_analytics.length&&t.prebid_analytics.forEach(function(e,t){0!==t&&Ve.warn("\n          [ANALYTICS]: Having more than one analytics provider active may affect page performance.\n        "),Ge.enableAnalytics(e),Ve.log("[ANALYTICS]: Analytics enabled for ".concat(e.provider))}),e}},$e=Ue.getBrowserWindowObject(),et={capture:!0,passive:!0},tt=function(n,i,o){$e.addEventListener("scroll",function e(){var t=R.getCurrentBreakpoint();X(n,null,ce(i,t))&&(ce(i,t)||0===ce(i,t))&&(o(),$e.removeEventListener("scroll",e,et))},et)},nt=Ue.getLogger(),it=Ue.getBrowserWindowObject(),ot=B.adblock,rt={loadAdBlocklLibrary:function(){return d(ot,function(){nt.log("[LOAD]: 3. Adblock script loaded."),nt.log("[TIME]: time in ms to load Adblock script",new Date-te())})},createAdBlockObj:function(){return it.Criteo||(it.Criteo={events:[]})},buildAdBlockSlots:function(e,t){var n,i,o,r,s;0<t.querySelectorAll('[id^="crt"]').length||e.attributes&&e.attributes.adblock&&(n=it.document.createElement("DIV"),i=e.sizes&&0<e.sizes.length?"".concat(e.sizes[0][1],"px"):"100%",o={zoneid:Number(e.attributes.adblock),containerid:"crt-".concat(e.code),overrideZoneFloor:!1,height:i,callbacksuccess:function(e){log("[SLOTS]: Adblock slots ".concat(o.containerid," loaded")),log("[TIME]: time in ms it took Adblock Slot ".concat(o.containerid," to load"),new Date-te()),e.target.parentNode.style.display="block"}},n.id=o.containerid,n.className="fuse-adblock",t.appendChild(n),r=o,it.Criteo?(s=r,it.Criteo.events.push(function(){nt.log("[SLOTS]: Adblock slots ".concat(s.containerid," set up")),it.Criteo.DisplayAcceptableAdIfAdblocked(s),it.document.getElementById(s.containerid).style.height=s.height,it.document.getElementById(s.containerid).style.display="none"})):nt.warn("You need to declare the global Criteo Object first"))}},st=Ue.getLogger(),at=Ue.getBrowserWindowObject();var lt={enable:function(){(at._clrm||(at._clrm={})).gpt={propertyId:"bR7_trg8Qo2LNRwdGIEOwoeDupQ",confiantCdn:"clarium.global.ssl.fastly.net",sandbox:0,mapping:"W3siaSI6MiwidCI6Int7b319Ont7d319eHt7aH19IiwicCI6MCwiRCI6MSwiciI6W119LHsiaSI6NiwidCI6Int7Y299fTp7e3d9fXh7e2h9fSIsInAiOjUwLCJEIjowLCJyIjpbeyJ0IjoiZXgiLCJzIjpudWxsLCJ2IjoiY28ifV19XQ==",activation:"|||Mzg5ODk4MDMz,|||MjM4MTU5MzYwMg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzMA==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzMw==,|||MjM4MTAxNzU2Mg==,|||MjM4MTAxNzQzNg==,|||MjM4MTAxNzQzOQ==,|||MjU0MTE4ODU3NQ==,|||MjM4MTAxNzU2Mg==,|co|ex|MQ==",callback:function(e,t,n,i,o,r){st.log("[CONFIANT]",arguments)}},d(B.confiant,function(){st.log("[LOAD]: 0. Confiant tag loaded"),st.log("[TIME]: time in ms it took Confiant tag to load",new Date-te())})}},ct=Ue.getLogger();var ut={enable:function(){d(B.blockthrough,function(){ct.log("[LOAD]: 0. Blockthrough tag loaded"),ct.log("[TIME]: time in ms it took Blockthrough tag to load",new Date-te())})}};var dt=function(){function t(e){o(this,t),this.browserWindow=e.browserWindow,this.userIdentityGlobal=e.userIdentityGlobal,this.placementId=e.placementId}return n(t,[{key:"setup",value:function(){var e,t,n=this,i=this.browserWindow[this.userIdentityGlobal];i&&("object"===s(t=i)&&null!==t)&&(i.email||i.phoneNumber||i.emailHashes)?(e={placementID:this.placementId},i.email?e.email=i.email:i.phoneNumber?e.phoneNumber=i.phoneNumber:e.emailHashes=i.emailHashes):e={placementID:this.placementId,storageType:"localStorage",detectionType:"scrape",cssSelectors:["input[type=text]","input[type=email]"],logging:"error"};var o=document.createElement("script");o.src="https://ats.rlcdn.com/ats.js",o.onload=function(){n.browserWindow.ats.start(e)};var r=this.browserWindow.document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}},{key:"configPrebid",value:function(e){return e.userSync||(e.userSync={}),e.userSync.userIds=[{name:"identityLink",params:{pid:this.placementId},storage:{type:"cookie",name:"idl_env",expires:7}}],e}}]),t}(),gt=function(){function i(e,t){var n=this;o(this,i),this.log=t,this.registry={},e.forEach(function(e){n.registry[e]=[]})}return n(i,[{key:"on",value:function(e,t){return!!this.registry[e]&&(this.registry[e].push(t),!0)}},{key:"off",value:function(e,n){return!!this.registry[e]&&(this.registry[e].forEach(function(e,t){e===n&&(i=t)}),!(!i&&0!==i)&&(this.registry[e].splice(i,1),!0));var i}},{key:"once",value:function(t,n){var i=this;return i.on(t,function e(){n.apply(null,Array.prototype.slice.call(arguments)),i.off(t,e)})}},{key:"emit",value:function(e){if(!this.registry[e])return!1;var t=Array.prototype.slice.call(arguments);t.shift(),this.log("[EVENT] ".concat(e," triggered with ").concat(this.registry[e].length," in the registry")),this.registry[e].forEach(function(e){e.apply(null,t)})}}]),i}(),ft=Ue.getLogger(),pt=Ue.getTargetAdSlotNodeIdPrefix(),bt=Ue.getPackageVersion(),ht=Ue.isInDebugMode(),mt=Ue.getPrebidGlobal(),yt=Ue.getGptSlotRegistry(),vt=Ue.getBrowserWindowObject(),wt=Ue.getAmazonUam(),St=Ue.getConsentManger(),kt=t,At=kt.fuse_settings;At.pageTargeting=[];var _t=vt.fusetag||(vt.fusetag={que:[]});_t.initialised=_t.initialised||!1,_t.states=_t.states||[{loaded:!0,ts:Date.now()}],ht&&(_t.version=bt);function Pt(){var e=Math.random().toString(16).slice(2);return Object.prototype.hasOwnProperty.call(Ht,e)?Pt():e}function Nt(e){Ht[e]={aps:!1,prebid:!1}}function Ct(e){ke(e)}function It(e,t){At.prebid.enabled&&At.amazonUam.enabled?Ht[t].aps&&Ht[t].prebid&&(Ct(e),delete Ht[t]):Ct(e)}function zt(){return Vt}function Et(){return Ft}function Tt(){return JSON.parse(JSON.stringify(kt))}function Ot(){Object.keys(Rt).forEach(function(e){return clearInterval(Rt[e])}),Rt={}}function Mt(e){var t=Pt();Nt(t);var n,i=e||Object.keys(Ft),o=re(At);ft.log("[BIDS][".concat(t,"]: Going to refresh slots with Prebid options - enabled: ").concat(o.enabled," Amazon UAM - enabled: ").concat(At.amazonUam.enabled," -- timeout: ").concat(o.timeout)),o&&o.enabled||At.amazonUam.enabled?(o.enabled&&Ze.pushToPrebidQue(function(){mt&&mt.adUnits&&(mt.adUnits=mt.adUnits.map(function(e){var t=Ft[e.code];if(!t)return e;var n=ee(t.id);return e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=n),e})),mt.requestBids({timeout:o.timeout,bidsBackHandler:function(e){ft.log("[BIDS][".concat(t,"]: Prebid bid response for all"),JSON.stringify(e)),ft.log("[TIME][".concat(t,"]: time it took for Prebid bids to return"),new Date-(ae()||te())),mt.setTargetingForGPTAsync(),Z(),Ht[t].prebid=!0,It(i,t)}})}),At.amazonUam.enabled&&Ft&&(n=Object.values(Ft).map(function(e){return{slotID:e.code,slotName:e.slot,sizes:$(e.sizes)}}),wt.makeBids(n,function(e){ft.log("[BIDS][".concat(t,"]: UAM slots "),JSON.stringify(n)),ft.log("[BIDS][".concat(t,"]: UAM bid response for all "),JSON.stringify(e)),ft.log("[TIME][".concat(t,"]: time it took for UAM bids to return"),new Date-(ae()||te())),Ht[t].aps=!0,It(i,t)}))):we(function(){Z(),ke(i)})}function Dt(n){var i,o,r,e;n&&(i=Pt(),Nt(i),ft.log("[REFRESH][".concat(i,"]: Refreshing ").concat(n," at: "),new Date-(ae()||te())),o=re(At),(r=Ft[n])&&(o&&o.enabled||At.amazonUam.enabled?(o.enabled&&Ze.pushToPrebidQue(function(){var e,t;mt&&mt.adUnits&&((e=mt.adUnits[n])&&(t=ee(r.id),e.mediaTypes&&e.mediaTypes.banner&&(e.mediaTypes.banner.sizes=t),mt.adUnits[n]=e)),mt.requestBids({timeout:o.timeout,adUnitCodes:[n],bidsBackHandler:function(e){var t;t=n,ft.log("[BIDS][".concat(i,"]: Prebid bid response for ").concat(t),JSON.stringify(e)),ft.log("[TIME][".concat(i,"]: time it took for Prebid bids to return"),new Date-(ae()||te())),mt.setTargetingForGPTAsync([t]),Ht[i].prebid=!0,It(t,i)}})}),At.amazonUam.enabled&&(e=[{slotID:r.code,slotName:r.slot,sizes:$(r.sizes)}],wt.makeBids(e,function(e){ft.log("[BIDS][".concat(i,"]: UAM bid response for ").concat(r.code),JSON.stringify(e)),ft.log("[TIME][".concat(i,"]: time it took for UAM bids to return"),new Date-(ae()||te())),Ht[i].aps=!0,It(r,i)}))):we(function(){ke(n)})))}function Lt(t,e){Rt[t.code]&&clearInterval(Rt[t.code]),Rt[t.code]=setInterval(function(){var e=R.getCurrentBreakpoint();t.element&&X(vt.document.getElementById(t.code)||t.element,50,ce(t,e))&&Dt(t.code)},1e3*e)}function xt(e){e.attributes.refresh?(ft.log("[LOAD]: Setting custom refresh time of ".concat(e.attributes.refresh," seconds for ").concat(e.code," at: "),new Date-te()),Lt(e,e.attributes.refresh)):0===e.attributes.refresh?ft.log("[LOAD]: No refresh timer set for ".concat(e.code," at: "),new Date-te()):At.refresh&&0<At.refresh?(ft.log("[LOAD]: Setting global refresh time of ".concat(At.refresh," seconds for ").concat(e.code," at: "),new Date-te()),Lt(e,At.refresh)):ft.log("[LOAD]: No refresh timer exists in account settings.")}function jt(e,t){var n=t?vt.document.getElementById(t):oe(e);if(!n)return ft.warn("[SLOTS]: Could not find div with data-fuse attribute of ".concat(e));var i=n.getAttribute("data-fuse-code");if(i&&Vt[i]===n)return ft.log("[SLOTS]: ".concat(e," has already with been bootstrapped and showing ad with ad slot ID ").concat(i));var o=JSON.parse(JSON.stringify(ue(n)));o&&(o.code="".concat(pt).concat(o.id,"-").concat(o.matched),Y(o,n),o.attributes&&o.attributes.adblock&&rt.buildAdBlockSlots(o,n),Ft[o.code]=o,Ft[o.code].element=n,Vt[o.code]=n,we(function(){var e=me(o);return yt.add(o.id,e),e}),0<At.headerbidding&&Ze.pushToPrebidQue(function(){Ze.setPrebidAdUnits(o)}),we(function(){Se(o)}),xt(o),qt.emit(Qt,o),Dt(o.code))}function Wt(e,t){_t.initialised?jt(e,t):_t.onTagInitialised(function(){jt(e,t)})}function Bt(){ft.log("[EVENT]: resetSlots"),de(new Date),yt.purgeAll(),Vt={},Ft={},Z(),Ot(),Object.keys(At.pageTargeting).forEach(function(e){we(function(){vt.googletag.pubads().clearTargeting(e.key)})}),0<At.headerbidding&&mt&&mt.adUnits&&(mt.adUnits.length=0)}function Ut(){ft.log("[EVENT]: loadSlots started"),Bt();var e=le(),i=[],o=[];e.forEach(function(e){var t,n=ue(e);n&&(n.code||((n=JSON.parse(JSON.stringify(n))).code="".concat(pt).concat(n.id,"-").concat(n.matched)),Y(n,e),n.attributes&&n.attributes.adblock&&rt.buildAdBlockSlots(n,e),Ft[n.code]=n,Ft[n.code].element=e,Vt[n.code]=e,o.push(n.code),i.push(n),t=R.getCurrentBreakpoint(),K(e,n,t)?(ft.log("[SLOTS]: Adding lazy listener for ".concat(n.code)),tt(e,n,function(){!function(e){ft.log("[LOAD]: Loading ".concat(e," at ").concat(new Date-(ae()||te())));var t=ie(e).getAttribute("data-fuse-code");t||ft.warn("[LOAD]: No fuseCode for fuse-slot-code of ".concat(e,", this usually means there was an error with initialisation"));var n=Et()[t];n&&(we(function(){var e=me(n);return yt.add(n.id,e),e}),0<At.headerbidding&&Ze.pushToPrebidQue(function(){Ze.setPrebidAdUnits(n)}),we(function(){Se(n)}),Dt(n.code),xt(n))}(n.code)})):(we(function(){var e=me(n);return yt.add(n.id,e),e}),0<At.headerbidding&&n.bids&&0<n.bids.length&&Ze.pushToPrebidQue(function(){Ze.setPrebidAdUnits(n)}),we(function(){Se(n)}),xt(n)))}),qt.emit(Jt,i),we(function(){be(),At.pageTargeting.forEach(function(e){ve(e.key,e.value)}),o.length&&Mt()})}var Vt={},Ft={},Rt={},Gt="onTagInitialised",Jt="onSlotsInitialised",Qt="onSlotCreated",qt=new gt([Gt,Jt,Qt],function(){return ft.log.apply(ft,arguments)}),Ht={};_t.getAdSlotsById=function(e){if(e&&("string"==typeof e||"number"==typeof e))return yt.getSlots("".concat(e))},_t.setSlotTargetingById=function(e,t,n){!e||"string"!=typeof e&&"number"!=typeof e||yt.setSlotTargetingById(e,t,n)},_t.onSlotRenderEnded=function(e){we(function(){return _e(e)})},_t.getAdSlotsByFuseId=_t.getAdSlotsById,_t.getFuseSlots=Et,_t.getFuseSettings=Tt,_t.getFuseUnits=zt,_t.loadFuseSlots=Ut,_t.loadFuseSlotById=Wt,_t.resetFuseSlots=Bt,_t.setSlotTargetingByFuseId=_t.setSlotTargetingById,_t.disableRefresh=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];e&&Rt[e]?(ft.log("[REFRESH]: Disabling refresh for ".concat(e)),clearInterval(Rt[e])):(ft.log("[REFRESH]: Disabling refresh for all units"),Ot())},_t.setTargeting=function(n,e){var i=-1;At.pageTargeting.forEach(function(e,t){-1===i&&e.key===n&&(i=t)}),-1<i?(At.pageTargeting[i].value=e,ft.log("[LOAD]: Updating custom targeting for [key: ".concat(n,", value: ").concat(e,"]"))):(At.pageTargeting.push({key:n,value:e}),ft.log("[LOAD]: Adding custom targeting for [key: ".concat(n,", value: ").concat(e,"]"))),_t.initialised&&we(function(){ft.log("[GPT]: Setting targeting for [key: ".concat(n,", value: ").concat(e,"]")),ve(n,e)})},_t.getTargeting=function(){return At.pageTargeting},_t.que.push=function(e){if("function"==typeof e)try{e.call()}catch(e){ft.error("Error processing command :",e.message,e.stack)}else ft.error("Commands written into fusetag.que.push must be wrapped in a function")};function Yt(e){var t=e.disablePersonalisedAds,n=e.forceDisablePrebid;ft.log("[INIT]: disablePersonalisedAds is ".concat(t?"on":"off")),ft.log("[INIT]: forceDisablePrebid is ".concat(n?"on":"off")),t&&we(function(){Ce()}),At.amazonUam.enabled&&(wt.load(),St.gdprApplies?wt.applyGDPR():St.ccpaApplies&&wt.applyCCPA(St.ccpaPrivacyString),wt.init(te())),n&&(At.headerbidding=0,At.prebid&&At.prebid.breakpoint_options&&Object.keys(At.prebid.breakpoint_options).forEach(function(e){At.prebid.breakpoint_options[e].enabled=!1})),0<At.headerbidding&&(Ze.loadPrebidLibrary(),Ze.pushToPrebidQue(function(){var e=Ze.getPrebidDefaultConfig();At.identity.enabled&&At.identity.module&&(e=At.identity.module.configPrebid(e)),Ze.setPrebidConfig(e)}),we(function(){vt.googletag.pubads().disableInitialLoad()}),ft.log("[LOAD]: 2. Headerbidding enabled, settings and ".concat(At.headerbidding,"ms timeout added"))),0<At.adblock&&(rt.createAdBlockObj(),rt.loadAdBlocklLibrary(),ft.log("[LOAD]: 2. Adblock has been enabled.")),we(function(){Ae(),_e(function(e){Ft[e.slotId]?Ft[e.slotId].hasCreative=e.hasCreative:ft.log("[BIDS]: Slot Render Ended Event fired for non fuse units.")}),Pe(Ft),Ne()}),At.responsive&&R.watchForBreakpoints(function(e){e&&Mt()});var i=setInterval(function(){if("loading"!==vt.document.readyState&&vt.googletag&&vt.googletag.apiReady){if(clearInterval(i),_t.initialised)return void ft.log("[LOAD]: Fuse tag has been initialised, skip the remaining of the process");ft.log("[TIME]: time in ms it took the page to load: ",new Date-te()),_t.loaded||(_t.loaded=!0,ne().forEach(function(e){if(ft.log("[LOAD]: executing functions pushed to Fuse Queue"),"function"==typeof e)try{e.call(),e.called=!0}catch(e){ft.error("Error processing command :",e.message,e.stack)}else ft.error("Commands written into fusetag.que.push must be wrapped in a function")})),ft.log("[LOAD]: Calling loadSlots"),Ut(),qt.emit(Gt),_t.initialised=!0,_t.states.push({initialised:!0,ts:Date.now()})}else ft.log("Waiting for parent Page to finish loading. Page status is: ",vt.document.readyState)},10)}var Xt,Kt;_t.loaded&&ft.warn("[LOAD]: Fuse Tag was loaded more than once."),At.confiant&&lt.enable(),At.cmp&&St.init(),At.blockthrough&&ut.enable(),At.identity&&At.identity.enabled&&(At.identity.module||(At.identity.module=new dt({browserWindow:vt,userIdentityGlobal:At.identity.userIdentityGlobal,placementId:At.identity.placementId}),At.identity.module.setup())),ft.log("[LOAD]: 1. Fuse Tag v".concat(bt," is loaded and ready")),ft.log("[TIME]: time in ms it took Fuse to load",new Date-te()),ye(),he(),At.skip_auto_init?ft.log("[INIT]: auto init is off skip Fuse init"):At.cmp?(ft.log("[CONSENT]: Found IAB CMP try to check for CMP status before initiating"),Xt=1,Kt=setInterval(function(){St.cmpLoaded(function(e){if(!e)return Xt<20?void(Xt+=1):(ft.log("[CONSENT]: Cannot load CMP after 20 seconds, continue as per normal"),clearInterval(Kt),void Yt({disablePersonalisedAds:!1,forceDisablePrebid:!1}));ft.log("[CONSENT]: CMP loaded version ".concat(St.versionNumber,", checking for consent")),clearInterval(Kt);St.getConsentData(function e(t){var n=t.consentReceived,i=t.personalisedAdsConsent,o=t.googlePersonalisedAdsConsent,r=t.gdprApplies;if(!1!==r){if(n||!(Xt<20))return St.setGDPR(r),St.setGDPRConsentPrompt(),20===Xt?Yt({disablePersonalisedAds:!1,forceDisablePrebid:!1}):(ft.log("[CONSENT]: ".concat(o?"[Y]":"[N]"," Google Personalised Ads")),ft.log("[CONSENT]: ".concat(i?"[Y]":"[N]"," Vendors Personalised Ads")),Yt({disablePersonalisedAds:!o,forceDisablePrebid:!i}));setTimeout(function(){Xt+=1,St.getConsentData(e)},1e3)}else{ft.log("[CONSENT]: Not in GDPR region");var s=!1;St.checkForCCPA(function(e){return e.applies?(St.setCCPAConsentPrompt(),St.setCCPA(e.applies),St.setPrivacyString(e.privacyString),s="Y"===e.privacyString[2].toUpperCase()):(ft.log("[CONSENT]: Not in CCPA region, continue as normal"),St.setNonPrivacyRegionsPrompt()),Yt({disablePersonalisedAds:s,forceDisablePrebid:s})})}})})},1e3)):(ft.log("[CONSENT]: No CMP found, continue to init Fuse"),Yt(!1)),_t.init=Yt,_t.setDefaultTargeting=be,_t.getRefreshIntervals=function(){return JSON.parse(JSON.stringify(Rt))},_t.getSlots=Et,_t.getSettings=Tt,_t.getUnits=zt,_t.loadSlots=Ut,_t.loadSlotById=Wt,_t.refreshSlots=Mt,_t.refreshSlotByCode=Dt,_t.resetSlots=Bt,_t.onTagInitialised=function(e){qt.once(Gt,e)},_t.onSlotsInitialised=function(e){qt.once(Jt,e)},_t.onSlotInitialised=function(e){qt.once(Qt,e)};Ue.getBrowserWindowObject()});
